<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/paper-rating/paper-rating.html">

<dom-module id="resource-item">

    <template>

        <style>

            :host {
                @apply(--layout-vertical);
                @apply(--layout-center-center);
                position: relative;
                text-align: center;
                width: 100%;
                height: 100%;
                --paper-icon-button-ink-color: #31f0ef;
            }

            .pic {
                width: 50%;
                height: 50%;
                background-size: contain;
                background-repeat: no-repeat;
                background-position: 50% 50%;
                transition: opacity 0.5s;
                margin-top: 40px;
            }

            .link {
                transition: opacity 0.5s;
                /*font-family: 'Abril Fatface', cursive;*/
                font-size: 1.5em;
                color: #0a3142;
            }

            .rating {
                position: absolute;
                top: 20px;
                right: 20px;
                font-size: 1em;
                color: #111;
                font-weight: bold;
            }

            .location {
                font-size: 11px;
                color: #000;
                line-height: 5em;
            }

            .location img {
                width: 30px;
                height: 30px;
                border-radius: 50% 50%;
                display: inline-block;
                vertical-align: middle;
                margin-right: 10px;
            }

            .icons {
                position: absolute;
                top: 12px;
                left: 12px;
                transition: opacity 0.5s;
            }

            iron-icon {
                width: 20px;
                height: 20px;
                color: #666;
                margin: 5px;
            }

            :host::after {
                content: "";
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                opacity: 0;
                transition: opacity 0.5s;
                pointer-events: none;
                /* create a layer to only invalidate this layer for :hover */
                transform: translateZ(0);
            }

            :host:hover::after {
                opacity: 1;
            }

        </style>

        <div class="pic" style$="background-image: url([[resource.imageUrl]]);"></div>
        <h2 class="link">[[resource.title]]</h2>
        <span class="rating">
            <paper-rating rating="[[resource.rating]]" disabled></paper-rating>
        </span>

        <div class="location">
            <img src="[[resource.locationImgUrl]]">
            [[resource.location]]
        </div>

    </template>

    <script>

        Polymer({

            is: 'resource-item',

            properties: {

                resource: {
                    type: Object
                }

            }

        });

    </script>

</dom-module>
